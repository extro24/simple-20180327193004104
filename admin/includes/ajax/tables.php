<?phpif ($act=='list_tables'){				// Get Servers		$tables=$db->getRows("select * from tables order by id");		foreach ($tables as $key=>$table){			if ($table->server_id>'0'){				$server=new Server($table->server_id);			}else{				$server->id=0;				$server->title='Main';			}			$tables[$key]->server=$server;			$tables[$key]->serverUp=checkServerUp($server);		}//			$smarty->assign('tables',$tables);		$content=$smarty->fetch('bits/tables_tables.tpl');		$data["data"]=$content;	$data["object"]='tables_content';	$data["command"]='set_object_html';	$ajax->add($data);										unset($data); // clear data		$data["data"]="refTimer=setTimeout('refresh_tables()',2000);";	$data["command"]='exec';	$ajax->add($data);										unset($data); // clear data}if ($act=='kick_players'){	include 'includes/modules/table/table.php';	include 'includes/modules/player/player.php';		$table=new table(cp('id'));	$table->kickPlayers();	$table->available='0';	$table->saveTable();		$data["data"]="refresh_tables();";	$data["command"]='exec';	$ajax->add($data);										unset($data); // clear data} if ($act=='enable_table'){	include 'includes/modules/table/table.php';	include 'includes/modules/player/player.php';		$table=new table(cp('id'));	$table->available='1';	$table->saveTable();		$data["data"]="refresh_tables();";	$data["command"]='exec';	$ajax->add($data);										unset($data); // clear data} if ($act=='add_table'){	$title=cp('title');	$max_seats=cp('max_seats');	$min_buy=cp('min_buy');	$max_buy=cp('max_buy');	$blinds=cp('blinds');	$pto=cp('pto');	$server_id=cp('server_id');		$error=false;		if ($title=='' || $max_seats=='' || $min_buy=='' || $max_buy=='' || $blinds=='' || $pto=='' || $server_id==''){		$data["msg"]='Please fill all data';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false && $max_seats>9){		$data["msg"]='Max Seats can\'t be more than 9';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false && $max_seats<2){		$data["msg"]='Max Seats can\'t be less than 2';		$ajax->add($data);											unset($data); // clear data		$error=true;	}	if ($error==false && $blinds<1){		$data["msg"]='Blinds can\'t be less than 1';		$ajax->add($data);											unset($data); // clear data		$error=true;	}	if ($error==false && $pto<5){		$data["msg"]='Player turn timeout can\'t be less than 5 Seconds';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false){		$sc=$db->getFunction("select count(*) from tables where title='$title'");		if ($sc>0){			$data["msg"]='A table with this name already exist';			$ajax->add($data);												unset($data); // clear data		}else{							//check if server is up				$tServer=new Server($server_id);				$nt_enabled=false;				if ($tServer->checkOnline()){$nt_enabled=true;}									$db->query("insert into tables set 									title='$title' , 									max_seats='$max_seats' , 									min_buy='$min_buy',									max_buy='$max_buy',									blinds='$blinds/".($blinds*2)."',									player_timeout='$pto',									server_id='$server_id',									available='$nt_enabled'								");					$data["data"]="getObj('msg_window').style.display='none';";					$data["command"]='exec';					$ajax->add($data);														unset($data); // clear data						}	}		$data["data"]="Add New Table";	$data["object"]=$act.'_feedback';	$data["command"]='set_object_html';	$ajax->add($data);										unset($data); // clear data	}//if ($act=='save_table'){	$id=cp('id');	$title=cp('title');	$max_seats=cp('max_seats');	$min_buy=cp('min_buy');	$max_buy=cp('max_buy');	$blinds=cp('blinds');	$pto=cp('pto');	$server_id=cp('server_id');		$error=false;		if ($title=='' || $max_seats=='' || $min_buy=='' || $max_buy=='' || $blinds=='' || $pto=='' || $server_id==''){		$data["msg"]='Please fill all data';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false && $max_seats>9){		$data["msg"]='Max Seats can\'t be more than 9';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false && $max_seats<2){		$data["msg"]='Max Seats can\'t be less than 2';		$ajax->add($data);											unset($data); // clear data		$error=true;	}	if ($error==false && $blinds<1){		$data["msg"]='Blinds can\'t be less than 1';		$ajax->add($data);											unset($data); // clear data		$error=true;	}	if ($error==false && $pto<5){		$data["msg"]='Player turn timeout can\'t be less than 5 Seconds';		$ajax->add($data);											unset($data); // clear data		$error=true;	}		if ($error==false){		$sc=$db->getFunction("select count(*) from tables where title='$title' and id!='$id'");		if ($sc>0){			$data["msg"]='A table with this name already exist';			$ajax->add($data);												unset($data); // clear data		}else{							//check if server is up				$tServer=new Server($server_id);				$nt_enabled=false;				if ($tServer->checkOnline()){$nt_enabled=true;}									$db->query("update tables set 									title='$title' , 									max_seats='$max_seats' , 									min_buy='$min_buy',									max_buy='$max_buy',									blinds='$blinds/".($blinds*2)."',									player_timeout='$pto',									server_id='$server_id',									available='$nt_enabled'								where id='$id'								");					$data["data"]="getObj('msg_window').style.display='none';";					$data["command"]='exec';					$ajax->add($data);														unset($data); // clear data						}	}		$data["data"]="Save Table";	$data["object"]=$act.'_feedback';	$data["command"]='set_object_html';	$ajax->add($data);										unset($data); // clear data	}//?>